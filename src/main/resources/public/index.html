<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vos préférences d’actualités · Le Monde</title>
    <meta name="description" content="Choisissez vos thèmes d’actualités préférés et leur importance via des curseurs, puis récupérez les dernières actualités.">
    <link rel="stylesheet" href="style.css">
</head>

<!-- Fenêtre résultats -->
<dialog id="results" class="modal modal-results">
    <div class="modal-header">
        <strong>Résultats — Articles recommandés</strong>
        <form method="dialog"><button class="btn secondary">Fermer</button></form>
    </div>
    <div id="resultsBody" class="modal-body">
        <!-- Articles insérés en JS -->
    </div>
</dialog>

<!-- Overlay de chargement -->
<div id="loading" class="loading" aria-live="polite" hidden>
    <div class="loading-box">
        <div class="spinner" aria-hidden="true"></div>
        <div class="loading-text">Analyse de vos préférences…</div>
    </div>
</div>

<body>
<div class="page">
    <header>
        <div class="container hero">
            <div>
                <h1 class="title">Ajustez vos thèmes d’actualités</h1>
                <p class="subtitle">Glissez les curseurs de 1 (peu d’intérêt) à 5 (très important). Nous utiliserons vos préférences pour pondérer les flux RSS <em>Le Monde</em> (politique, sport, etc.).</p>
                <div class="toolbar">
                    <button class="btn secondary" id="resetBtn" aria-label="Réinitialiser à 3">Réinitialiser</button>
                    <button class="btn secondary" id="clearBtn" aria-label="Tout mettre à 1">Tout mettre au minimum</button>
                </div>
            </div>
            <div class="actions">
                <button class="btn" id="fetchBtn" aria-label="Récupérer les actualités maintenant">⚡ Récupérer les actualités</button>
            </div>
        </div>
    </header>

    <main class="container">
        <section id="grid" class="grid" aria-label="Grille des thèmes">
            <!-- Cartes générées par JS -->
        </section>

        <div class="toolbar" style="margin-top:22px">
            <button class="btn" id="copyJson">Copier le JSON</button>
            <button class="btn secondary" id="previewBtn">Aperçu de la pondération</button>
        </div>

        <output id="out" class="subtitle" style="display:block; margin-top:12px"></output>

        <dialog id="modal" class="modal">
            <div class="modal-header">
                <strong>Vos pondérations</strong>
                <form method="dialog"><button class="btn secondary">Fermer</button></form>
            </div>
            <div id="modalBody" class="modal-body"></div>
        </dialog>
    </main>

    <footer>
        <div class="container">
            <p>
                Source des flux :
                <a href="https://www.lemonde.fr/le-monde-et-vous/article/2025/07/14/les-flux-rss-du-monde-fr_5498778_3237.html"
                   target="_blank" rel="noopener noreferrer" class="link">
                    Le Monde – Liste des flux RSS
                </a>
            </p>
            <p class="ai-disclaimer" style="margin-top:8px; font-size:0.9em; opacity:0.75;">
                ⚠️ Cette application s’appuie sur une intelligence artificielle pour analyser les actualités.
                Les résultats peuvent contenir des erreurs ou des approximations. L’IA n’est pas parfaite !
            </p>
        </div>
    </footer>
</div>

<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script src="script.js" defer></script>
</body>
</html>
